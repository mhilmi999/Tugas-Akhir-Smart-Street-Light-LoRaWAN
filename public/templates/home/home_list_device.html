{{ define "home_list_device.html" }} {{template "header" . }} {{ template "navbar" . }} {{ template "sidebar" . }}

<body>


    <main id="main" class="main">

        <div class="pagetitle">
            <h1>List of Device</h1>
            <nav>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item active">List of Device</li>
                </ol>
            </nav>
        </div>
        <!-- End Page Title -->

        <section class="section dashboard">
            <div class="row">

                <!-- Left side columns -->
                <div class="col">
                    <div class="row">

                        <!-- Device in General -->
                        <div class="col-12">
                            <div class="card recent-sales overflow-auto">
                                <div class="card-body">
                                    <h5 class="card-title">Custom LoRa end-nodes<span>| Today</span></h5>

                                    <table class="table table-borderless datatable">
                                        <thead>
                                            <tr>
                                                <th scope="col">Device-ID</th>
                                                <th scope="col">Voltage</th>
                                                <th scope="col">Current</th>
                                                <th scope="col">Power</th>
                                                <th scope="col">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {{ range $i, $ld := .tableDeviceData }}
                                            <tr>
                                                <td scope="row">
                                                    {{ $ld.Device_id }}
                                                </td>
                                                <td>{{ $ld.Voltage }}</td>
                                                <td>{{ $ld.Ampere }}</td>
                                                <td>{{ $ld.Power }}</td>
                                                <td>
                                                    {{if (eq $ld.Device_cons 1) }}
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked onclick='window.location.assign("/manual-control/0/{{ $ld.Device_id }}")'>
                                                        <label class="form-check-label" for="flexSwitchCheckChecked">Lampu Menyala</label>
                                                    </div>
                                                    {{ else if (eq $ld.Device_cons 0) }}
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" onclick='window.location.assign("/manual-control/1/{{ $ld.Device_id }}")'>
                                                        <label class="form-check-label" for="flexSwitchCheckDefault">Lampu Mati</label>
                                                    </div>
                                                    {{ else }}
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" onclick='window.location.assign("/manual-control/1/{{ $ld.Device_id }}")'>
                                                        <label class="form-check-label" for="flexSwitchCheckDefault">Lampu Mati</label>
                                                    </div>
                                                    {{ end }}
                                                </td>
                                            </tr>
                                            {{ end }}


                                        </tbody>
                                    </table>

                                </div>

                            </div>
                        </div>
                        <!-- End Device in General -->
                    </div>
                </div>
                <!-- End Left side columns -->

        </section>

    </main>
    <!-- End #main -->

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a> {{ template "footer" . }}

</body>
{{ end }}